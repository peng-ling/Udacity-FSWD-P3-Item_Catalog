{% extends "topbar.html" %} {% block main %}
<div class="row">
    <div class="col_100">
        <form method="post" action="/newcategory">
            <input class="col_25" type="text" placeholder="Category Name" name="newcategory" id="newcategory">
            <button type="submit">Create new category</button>
            <button type="button" onclick="toggleAllItems()">
                Show / hide all items
            </button>
        </form>
    </div>
</div>
<hr /> {%for c in categories %}
<div class="row_header">
    <h2 class="col_25">{{c.name}}</h2>
    <form method="get" action="{{url_for('newitem', categoryid = c.id)}}">
        <button type="submit">Create new item</button>
    </form>
    <form method="post" action="{{url_for('deletecategory', categoryid = c.id)}}">
        <button type="submit">Delete Category</button>
    </form>
    <form>
        <button type="button" onclick="$('#toggleitem{{c.id}}').slideToggle();">
            Show Hide Items
        </button>
    </form>
</div>
<div class="col_100 toggleitem" id="toggleitem{{c.id}}">
    {%for i in items%} {%if i.category_id is equalto c.id%}
    <div class="row ">
        <div class="col_25">
            {{i.title}}
        </div>
        <div>
            <a href="{{url_for('deleteitem', itemid = i.id)}}">delete item</a>
        </div>
        <div>
            <a href="{{url_for('updateitem', itemid = i.id)}}">edit item</a>
        </div>
    </div>
    <div class="row">
        <div class="col_100 item_description">
            {{i.description}}
        </div>
    </div>
    {%endif%} {%endfor%}
</div>
<hr /> {%endfor%} {% endblock %}
